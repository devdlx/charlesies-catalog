<dom-module id="page-home">
  <template>
    <style is="custom-style">
      .grid-layout {
        padding-top: 16px;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      }

      .grid-cell {
        margin: 16px;
        width: calc(100vh*.5);
      }

      @media all and (min-width: 448px) {
        .grid-cell {
          width: 208px;
          /*margin: 0 8px;*/
        }
      }
    </style>

    <firebase-collection id="products" location="https://charlesiesbeta.firebaseio.com/products" data="{{products}}" order-by-child="priorty"></firebase-collection>

    <div class="grid-layout">
      <template is="dom-repeat" items="{{products}}">
        <!-- <a href$="[[_packageLink(item.name)]]" is="pushstate-anchor" class="grid-cell"> -->
        <!-- <package-tile package="[[item]]" name$="[[item.name]]"></package-tile> -->
        <!-- </a> -->
        <product-card product="{{item}}" class="grid-cell"></product-card>
      </template>
    </div>

  </template>

  <script>
    Polymer({
      is: 'page-home',
      enableCustomStyleProperties: true,
      properties: {
        user: Object,
      },

      newItemClick: function(e, f) {
        // console.log('newItemClick', e, f);
        // this.$.cdata.newPackage();
        // var coll = this.$.packages;
        // coll.add(this.$.cdata.newPackageObject);
      },

      attached: function() {
        // reset page title since this is the default page
        this.fire('page-meta', {
          title: null
        });

      }
    });
  </script>
</dom-module>
